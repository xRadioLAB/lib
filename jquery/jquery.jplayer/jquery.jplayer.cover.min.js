/**
 * Copyright (c) 2016 Xinhuanet Inc. All rights reserved.
 * jd95
 * @time 2016-06-22-14.41.15
 */
!function(a){jQuery.browser={UA:function(){return navigator.userAgent.toLowerCase()},ie8:function(){var a=this.UA();return/msie/.test(a)&&!/opera/.test(a)&&(a.match(/.+(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[])[1]<9},init:function(b){b||(b=a("html"));var c=this.UA(),d=(c.match(/.+(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[])[1];/msie/.test(c)&&!/opera/.test(c)?(b.addClass("ie"),9>d?(b.addClass("oldie"),b.removeClass("ie11")):b.removeClass("oldie")):b.removeClass("ie"),/trident/.test(c)&&!/msie/.test(c)?b.addClass("ie ie11"):b.removeClass("ie11"),/chrome/.test(c)?b.addClass("chrome"):b.removeClass("chrome"),/safari/.test(c)&&!/chrome/.test(c)?b.addClass("safari"):b.removeClass("safari")}},a.JD95_INDEX_COVER=function(b){var c={delay:0,size:function(){var b=this;b.$window||(b.$window=a(window)),b.$indexCover||(b.$indexCover=a("#indexCover")),b.$indexCoverImg||(b.$indexCoverImg=b.$indexCover.find("img"));var c=b.$window.width();b.sizeObj={width:c,height:Math.round(.5625*c)},b.$indexCover.css({width:b.sizeObj.width,height:b.sizeObj.height,position:"relative",overflow:"hidden"}),b.$indexCoverImg.css({width:b.sizeObj.width,height:b.sizeObj.height,position:"absolute",top:0,left:0,"z-index":"999"}),void 0!==b.videoJplayer&&a(b.jplayerID).jPlayer("option",{size:{width:b.sizeObj.width,height:b.sizeObj.height}})},videoInit:function(b){var c=this;if(b&&(c=a.extend(c,b)),a.browser.init(),!a.browser.ie8()&&"on"===c.status&&!c.videoJplayer&&c.media.m4v){c.jplayerID||(c.jplayerID="#jp_jplayer"),c.videoDebug?c.videoDebug='<button class="jp-play" role="button" tabindex="0" style="position:absolute; z-index:9999; left:50%; bottom:10px; width:100px; margin-left:-50px; display:block;">play</button><div class="jp-current-time" style="position:absolute; z-index:9999; top: 0;" role="timer" aria-label="time">&nbsp;</div><div class="jp-duration" style="position:absolute; z-index:9999; top: 0; right:0;" role="timer" aria-label="duration">&nbsp;</div>':c.videoDebug="";var d=c.jplayerID.replace("#",""),e='<div id="indexCover"><img src="'+c.media.poster+'" width="100%" height="auto"><div id="'+d+'_container" class="jp-video"><div id="'+d+'" class="jp-jplayer"></div>'+c.videoDebug+'</div><div class="btnSQ" style="width:40px;">收起</div></div>';c.$body=a("body"),c.$body.prepend(e),c.size(),c.$window.resize(function(){c.size()}),c.$indexCover.after('<div class="btnSQ2">展开</div>'),c.$jplayer_id=c.$indexCover.find(c.jplayerID),c.$videoClose=c.$indexCover.find(".btnSQ"),c.$videoOpen=c.$indexCover.next(".btnSQ2");var f={cursor:"pointer",display:"block",width:40,height:22,"font-size":12,"text-align":"center",background:"#FFF",color:"#09F",position:"absolute",bottom:0,right:0};c.$videoClose.css(f),c.$videoOpen.css(f).css({top:0,display:"none"}),c.videoJplayer=c.$jplayer_id.jPlayer({swfPath:"http://www.xinhuanet.com/politics/jd95/cover",supplied:"webmv, ogv, m4v",size:c.sizeObj,useStateClassSkin:!0,cssSelectorAncestor:c.jplayerID+"_container",autoBlur:!1,smoothPlayBar:!0,keyEnabled:!0,remainingDuration:!0,toggleDuration:!0,wmode:"window",preload:"auto",volume:1,ready:function(){a(this).jPlayer("setMedia",c.media),a(this).jPlayer("play")},play:function(){c.delay>0&&(c.timeout=null,clearTimeout(c.timeout)),c.$indexCoverImg.fadeOut()},timeupdate:function(b){if(c.maxTime){var d=b.jPlayer.status.currentTime;d>c.maxTime-1&&(a(this).jPlayer("pause"),c.delay>0?(clearTimeout(c.timeout),c.timeout=null,c.timeout=setTimeout(function(){c.videoOff()},1e3*c.delay)):c.videoOff())}},ended:function(){c.maxTime||(c.$indexCoverImg.fadeIn(),a(this).jPlayer("pause"),c.delay>0?(clearTimeout(c.timeout),c.timeout=null,c.timeout=setTimeout(function(){c.videoOff()},1e3*c.delay)):c.videoOff())}}),c.$videoClose.on("click",function(){c.videoOff()}),c.$videoOpen.on("click",function(){c.videoOn()})}},videoOff:function(){var b=this;b.$indexCoverImg.fadeIn(),b.$indexCover.animate({height:0},800,function(){b.$videoClose.hide(),b.$videoOpen.show(),a(this).hide()}),b.$jplayer_id.jPlayer("pause"),b.timeout=null,clearTimeout(b.timeout)},videoOn:function(){var a=this;a.$indexCover.show().animate({height:a.sizeObj.height},800,function(){a.$jplayer_id.jPlayer("play",0)}),a.$videoClose.show(),a.$videoOpen.hide()}};return c.videoInit(b),b.videoDebug?console.log(c):void 0}}(jQuery);